#使用布局

### 一. 基本用法

在控制器中使用`$this->display()`方法,必须包含默认的布局文件default.layer.php, 一个空白的布局文件内容如下:

	<?php echo isset($content)?$content:'' ?>

`$content`的内容即控制器中调用`$this->view->main()`输出的内容.一个HTML布局文件内容如下:
	
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN">
	<head>
	    <title><?php echo isset($title)?$title:'' ?></title>
	    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	    <meta name="Keywords" content="<?php echo isset($keywords)?$keywords:''; ?>" />
	    <meta name="Description" content="<?php echo isset($description)?$description:''; ?>" />
	    <link rel="stylesheet" rev="stylesheet" href="<?php echo $this->res("css/style.css") ?>" media="all" />
	</head>
	<body>
	    <?php echo isset($content)?$content:'' ?>
	</body>
	</html>


请求`index`的时候会自动载入视图控制器目录下面的`MainView.php`文件,文件内容如下:

	namespace app\web\views;
	
	use Cross\MVC\View;
	
	class MainView extends View
	{
	    function index($data = array())
	    {	
	        include $this->tpl("main/index");
	    }
	}
index方法输出的内容至布局文件中的变量`$content`,然后合并输出到浏览器.


### 二. 在视图控制器中控制布局的内容

1. 更改网站标题,keywords,和description

		namespace app\web\views;
		
		use Cross\MVC\View;
		
		class MainView extends View
		{
		    function index($data = array())
		    {	
		        $this->set(array(
		            'title' =>  'hi',
		            'keywords'   =>  'crossphp',
		            'description'   =>  '轻量高效php开发框架',
		        ));
	
		        include $this->tpl("main/index");
		    }
		}

	布局文件中的所有变量均可以在action中,调用基类中的`$this->set()`替换.参数为一个数组,数组的key即为变量名.


2. 添加静态资源文件,如css,js等,需在layer中指定位置添加`$this->loadRes()`方法
	
		namespace app\web\views;
		
		use Cross\MVC\View;
		
		class MainView extends View
		{
		    function index($data = array())
		    {	
				$this->addRes("css/style.css");	
		        include $this->tpl("main/index");
		    }
		}
	
>自定义app中的视图控制器基类的基类而不是直接继承`CoreView`,这样更灵活易扩展.
